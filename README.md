# 基于LBM的涡街仿真程序

### 调试环境

本程序在 Windows 11, python3.10 环境下编译通过，需要额外安装以下库并且在指定文件夹下运行

```python
matplotlib==3.7.0
numpy==1.24.2
Pillow==10.3.0
scipy==1.9.0
taichi==1.6.0
```



### 使用步骤

1. 配置所需环境
2. 在指定文件夹中在 python 下运行 `main.py`，当窗口弹出，说明程序正常运行。
3. 选择漩涡发生体的类别为圆形、T形或三角形，拖动滑条，可修改流速 $v$、特征长度 $d$、黏度 $\rho$ 等参数的大小，待涡街现象稳定后点击“暂停/继续”按键，即可得出相应漩涡脱落频率 $v$、斯特罗哈数 $\mathrm{St}$、雷诺数 $\mathrm{Re}$。
4. 选择显示图像类别为涡量分布、速率分布或流线图，得到涡街现象的不同特征。



## 功能概述

本程序基于对涡街流量计背后的涡街现象进行仿真，通过设置可调节流速 $v$ 、特征长度 $d$ 、和运动黏度 $\mu$ 等参数，并利用虚拟受力传感器得到压力信号，计算并显示雷诺数。此外，用户可以选择不同形状的漩涡发生体和不同的流场分布图，以观察其对涡街现象的影响。

### 提供交互式界面

本程序基于Python的Tkinter库开发可交互界面，通过调节滑动条，可以改变流速 $v$ 、特征长度 $d$ 、和运动黏度 $\mu$ 等参数的大小。通过选择不同的形状，可以改变漩涡发生体的类别（例如圆形、T形和三角形），并提供“暂停/继续”按键，方便记录函数图像和数值仿真结果如雷诺数、斯特罗哈数等。



### 基于LBM的高性能计算

本程序基于LBM实现大规模并行运算，通过调用 Taichi 这一计算机图形库进行高性能计算。程序实现了复杂的物理约束并提供了简洁强大的编程框架，使后续开发能够在高层次上描述复杂的物理现象，同时自动利用底层的硬件加速（CPU 或 GPU）来提升计算性能。该程序不仅适用于模拟圆柱绕流等具体流体现象，通过适当改写，它还能够高效地处理其他复杂的流体动力学问题，能够满足多样化的流体仿真需求。



### 实时流场结果展示

本程序实时绘制流场的涡量、速率和流线分布图。显示涡街现象的形成和演变过程。提供动态图形展示和数值结果，用户可以通过动画观察涡街现象的动态变化和记录数值结果。



## 程序构成

- `main.py` 用来启动程序。
- `solve.py` 承担LBM数值计算核心功能，对每次迭代计算流场平衡函数 $f_i^{eff}(x,t)$，执行碰撞、流动步骤，每100次迭代返回流场数据到 `GUI.py`。
- `GUI.py` 构造可视化交互界面，对 `solve.py` 输入参数，对 `solve.py` 返回的数据实时绘制图像并计算数值结果，实时响应用户的交互操作。
- `FFT.py` 对虚拟受力传感器接收到的压力信号进行快速傅里叶变换求主频率。
